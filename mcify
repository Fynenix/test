local basalt = require("basalt") --> Load the Basalt framework into the variable called "basalt"

--> Now we want to create a base frame, we call the variable "main" - by default everything you create is visible. (you don't need to use :show())

local main = basalt.createFrame()
local aDropdown = main:addDropdown()
aDropdown:addItem("Bundy")
aDropdown:addItem("Item 2")
aDropdown:addItem("Item 3")

aDropdown:onChange(function(self, item)
  music(item.text)
end)


basalt.autoUpdate() -- As soon as we call basalt.autoUpdate, the event and draw handlers will listen to any incoming events (and draw if necessary)

function playmusic(music)
  local dfpwm = require("cc.audio.dfpwm")
  local speaker = peripheral.find("speaker")

  local decoder = dfpwm.make_decoder()
  for chunk in io.lines("music.wav", 16 * 1024) do
      local buffer = decoder(chunk)

      while not speaker.playAudio(buffer) do
          os.pullEvent("speaker_audio_empty")
      end
  end
end

basalt.autoUpdate()
